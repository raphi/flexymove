<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx"
		 showEffect="{showEffect}" hideEffect="{hideEffect}">
	
	<fx:Declarations>
		<s:Fade id="showEffect" alphaFrom="0" alphaTo="1" duration="1000" />
		<s:Fade id="hideEffect" alphaFrom="1" alphaTo="0" duration="1000" />
	</fx:Declarations>
	
	<fx:Script>
		<![CDATA[
			import com.flexymove.Managers.UserManager;
			
			import mx.managers.CursorManager;
			import mx.managers.PopUpManager;
			
			[Bindable]
			public var connexionButtonVisible : Boolean = true;
			
			private function connexion(event:MouseEvent):void
			{
				CursorManager.setBusyCursor();
				PopUpManager.removePopUp( this );
				dispatchEvent( new Event( 'loginSuccessful' ));
				
				UserManager.getInstance().userInfo.name = usernameInput.text;
			}
		]]>
	</fx:Script>
	
	
	<s:BorderContainer width="100%" height="100%" >
		<s:backgroundFill>
			<s:LinearGradient rotation="90">
				<s:GradientEntry color="0xD0D0F0" alpha="0.7"/>
				<s:GradientEntry color="0x444444" alpha="0.7"/>
			</s:LinearGradient>
		</s:backgroundFill>
	</s:BorderContainer>
	
	<s:Group>
		<s:Form>
			<s:FormItem label="Utilisateur">
				<s:TextInput id="usernameInput" maxChars="20"/>
			</s:FormItem>
			<s:FormItem label="Mot de passe">
				<s:TextInput displayAsPassword="true"/>
			</s:FormItem>
			<s:FormItem visible="{connexionButtonVisible}" includeInLayout="{connexionButtonVisible}">
				<s:Button label="Connexion" click="connexion(event)"/>
			</s:FormItem>
		</s:Form>
		<!--<s:Image source="/assets/images/utilisateur.png" width="100" height="150"/>-->
	</s:Group>
</s:Group>
