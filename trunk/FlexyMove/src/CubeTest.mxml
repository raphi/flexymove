<?xml version="1.0" encoding="utf-8"?>
<s:WindowedApplication xmlns:fx="http://ns.adobe.com/mxml/2009"
					   xmlns:s="library://ns.adobe.com/flex/spark"
					   xmlns:mx="library://ns.adobe.com/flex/mx"
					   xmlns:local="*"
					   xmlns:mxeffects="com.adobe.ac.mxeffects.*"
					   xmlns:player="Components.player.*"
					   currentState="musicPlayer">
	
	<s:states>
		<s:State name="musicPlayer"/>
		<s:State name="videoPlayer"/>
	</s:states>
	
	<fx:Declarations>
		<s:Transition fromState="musicPlayer" 
					  toState="videoPlayer" 
					  effect="{leftRotation}" />
		<s:Transition fromState="videoPlayer" 
					  toState="musicPlayer" 
					  effect="{flipBack}" />
		
		<s:Sequence>
			<mxeffects:CubeRotate id="leftRotation" 
								  target="{videoPlayer}"
								  siblings="{ [ musicPlayer ] }"
								  direction="LEFT"
								  duration="1000" />
			<s:RemoveAction target="{musicPlayer}"/>
			<s:AddAction target="{videoPlayer}" />
		</s:Sequence>
		
		<s:Sequence id="flipBack">		
			
			<mxeffects:CubeRotate 
				target="{ musicPlayer }" 		
				siblings="{ [ videoPlayer ] }" 
				direction="LEFT" 
				horizontalLightingLocation="LEFT" 
				duration="1000"/>
			
			<s:RemoveAction target="{ videoPlayer }"/>
			<s:AddAction target="{ musicPlayer }"/>				
		</s:Sequence>
	</fx:Declarations>
	
	<s:layout>
		<s:VerticalLayout/>
	</s:layout>
	
	<s:Button click.musicPlayer="currentState='videoPlayer'" 
			  click.videoPlayer="currentState='musicPlayer'"/>
	<player:videoPlayer id="videoPlayer" includeIn="videoPlayer" showEffect="{flipBack}"/>
	<player:musicPlayer id="musicPlayer" includeIn="musicPlayer"/>
	
</s:WindowedApplication>
